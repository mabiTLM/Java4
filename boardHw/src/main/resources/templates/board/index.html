<!DOCTYPE html>
<html mxlns:th="http://www.thymeleaf.org">
  <head th:fragment="boardFragmentHead">
    <link rel="stylesheet" href="/styles/board/index.css" />
    <!-- <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script> -->
  </head>
  <body>
    <div th:fragment="boardFragment" class="board container">
      <form action="/add" method="post">
        <!-- <input type="text" name="title" /> -->

        <div class="form-floating mb-3">
          <input
            type="text"
            class="form-control"
            name="title"
            id="floatingInput"
            placeholder="제목"
          />
          <label for="floatingInput">제목</label>
        </div>

        <div class="form-floating mb-3">
          <textarea
            class="form-control"
            name="content"
            placeholder="글"
            id="floatingInput"
          ></textarea>
          <label for="floatingInput">내용</label>
        </div>

        <!-- <textarea name="content" id="content" cols="30" rows="10"></textarea> -->
        <button class="btn btn-primary">글올리기</button>
      </form>

      <div>
        <!-- <ul>
          <li th:each="item:${list}" th:object="${item}">
            <h1 th:text="*{title}"></h1>
            <p th:text="*{userId}"></p>
          </li>
        </ul> -->
      </div>

      <table class="table">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">제목</th>
            <th scope="col">작성자</th>
            <th scope="col">작성일자</th>
          </tr>
        </thead>
        <tbody class="table-group-divider">
          <tr th:each="item:${list}" th:object="${item}">
            <th scope="row" th:text="*{id}"></th>
            <td th:text="*{title}"></td>
            <td th:text="*{userId}"></td>
            <td th:text="*{createdAt}"></td>
          </tr>
          <!-- <tr>
            <th scope="row">2</th>
            <td>Jacob</td>
            <td>Thornton</td>
            <td>@fat</td>
          </tr>
          <tr>
            <th scope="row">3</th>
            <td colspan="2">Larry the Bird</td>
            <td>@twitter</td>
          </tr> -->
        </tbody>
      </table>

      <!-- <div class="write-area">
        <form action="" method="post">
          <input type="text" name="title" placeholder="제목" />
          <textarea
            name="content"
            class="table-text"
            placeholder="내용"
          ></textarea>
          <button>글쓰기</button>
        </form>
      </div> -->

      <!-- <ul id="list"></ul>

      <li class="items none">
        <a class="items-inner-box">
          <div class="title"></div>
          <div class="user">내용 : <span class="content"></span></div>
        </a>
      </li>

      <div>글나올곳</div>

      <script>
        async function getList() {
          const list = (await axios.post("/board", {})).data;
          console.log(list);
          const listElem = document.getElementById("list");
          const itemElemTemplate = document.getElementsByClassName("none")[0];
          list.forEach((item) => {
            const tempElem = itemElemTemplate.cloneNode(true);
            console.log(tempElem);
            tempElem.classList.remove("none");
            tempElem.getElementsByClassName("title")[0].innerHTML = item.title;
            tempElem.getElementsByClassName("content")[0].innerHTML =
              item.content;
            listElem.append(tempElem);
          });
        }
        getList();
      </script> -->
    </div>
  </body>
</html>
